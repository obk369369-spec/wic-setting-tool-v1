<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>WIC ì„¸íŒ… ë„êµ¬ v2 (7ë²ˆ ë„êµ¬)</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 16px;
      line-height: 1.5;
      background: #f5f5f5;
      font-size: 14px;
    }
    h1 {
      font-size: 20px;
      margin-bottom: 8px;
    }
    h2 {
      font-size: 16px;
      margin: 16px 0 8px;
    }
    .section {
      background: #ffffff;
      border-radius: 8px;
      padding: 12px 14px;
      margin-bottom: 12px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }
    label {
      display: block;
      font-weight: 600;
      margin-bottom: 4px;
    }
    textarea, input[type="text"] {
      width: 100%;
      box-sizing: border-box;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-family: inherit;
      font-size: 13px;
      margin-bottom: 6px;
      resize: vertical;
    }
    textarea#toolList {
      min-height: 80px;
    }
    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }
    .row > div {
      flex: 1 1 200px;
    }
    button {
      padding: 6px 10px;
      border-radius: 6px;
      border: 1px solid #888;
      background: #ffffff;
      cursor: pointer;
      font-size: 13px;
    }
    button.primary {
      background: #2563eb;
      color: #ffffff;
      border-color: #2563eb;
    }
    button.small {
      padding: 4px 8px;
      font-size: 12px;
    }
    button:disabled {
      opacity: 0.5;
      cursor: default;
    }
    .badge {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 11px;
      border: 1px solid #ccc;
      margin-right: 4px;
      margin-bottom: 2px;
      cursor: pointer;
    }
    .badge.selected {
      background: #2563eb;
      color: #fff;
      border-color: #2563eb;
    }
    .status-ok {
      color: #15803d;
      font-weight: 600;
    }
    .status-warn {
      color: #b91c1c;
      font-weight: 600;
    }
    .status-neutral {
      color: #4b5563;
    }
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 10px;
    }
    .card {
      background: #ffffff;
      border-radius: 10px;
      padding: 10px;
      border: 1px solid #ddd;
      display: flex;
      flex-direction: column;
      gap: 6px;
      min-height: 180px;
    }
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 4px;
    }
    .card-title {
      font-weight: 700;
      font-size: 14px;
    }
    .card-chip {
      font-size: 11px;
      border-radius: 999px;
      padding: 2px 6px;
      border: 1px solid #ccc;
      color: #4b5563;
    }
    .card-desc {
      font-size: 12px;
      color: #4b5563;
    }
    .card-row {
      display: flex;
      gap: 4px;
      align-items: center;
    }
    .card-row input[type="text"] {
      flex: 1;
      margin-bottom: 0;
    }
    .log {
      font-size: 11px;
      color: #4b5563;
      background: #f9fafb;
      border-radius: 6px;
      padding: 4px 6px;
      min-height: 32px;
      white-space: pre-wrap;
    }
    .small-text {
      font-size: 11px;
      color: #6b7280;
    }
    .time-span {
      font-size: 11px;
      color: #6b7280;
    }
    .autosave {
      font-size: 11px;
      color: #4b5563;
    }
  </style>
</head>
<body>
  <h1>WIC ì„¸íŒ… ë„êµ¬ v2 (7ë²ˆ ë„êµ¬)</h1>

  <div class="section">
    <div class="small-text">
      Â· ì´ ë„êµ¬ëŠ” <strong>ì¹´ë“œí˜• ì„¸íŒ… ë„êµ¬</strong>ë‹¤.<br/>
      Â· í…ŒìŠ¤íŠ¸ ê·œì¹™: <strong>í™”ë©´ ì¶œë ¥ 1íšŒ â†’ ê¸°ëŠ¥ 1íšŒ ë°˜ë³µ â†’ ì˜¤ë¥˜ 0ì´ë©´ ì¢…ë£Œ</strong> í•œ ë²ˆë§Œ ìˆ˜í–‰í•œë‹¤.<br/>
      Â· ë¸Œë¼ìš°ì € <strong>localStorage ìë™ ì €ì¥/ë³µì›</strong>ë§Œ ì‚¬ìš©í•˜ë©°, ì„œë²„ í†µì‹ Â·ë°±ê·¸ë¼ìš´ë“œ íƒ€ì´ë¨¸ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
    </div>
  </div>

  <div class="section">
    <h2>â‘  ë„êµ¬ ëª©ë¡ &amp; ê¸°ë³¸ ì£¼ì†Œ</h2>
    <label for="toolList">ë„êµ¬ ëª©ë¡ (í•œ ì¤„ë‹¹ 1ê°œ)</label>
    <textarea id="toolList" placeholder="ì˜ˆì‹œ:&#10;1ë²ˆ ê³ ê° ìë™í™” ì•ˆë‚´ì„œ&#10;2ë²ˆ ì…ì°° í”„ë¡œê·¸ë¨&#10;â€¦"></textarea>

    <div class="row">
      <div>
        <label for="githubBase">GitHub ê¸°ë³¸ ì£¼ì†Œ</label>
        <input id="githubBase" type="text" placeholder="https://github.com/obk369369-spec" />
      </div>
      <div>
        <label for="denoBase">Deno ê¸°ë³¸ ì£¼ì†Œ</label>
        <input id="denoBase" type="text" placeholder="https://dash.deno.com/projects" />
      </div>
    </div>

    <div class="row">
      <button id="buildCardsBtn" class="primary">ì¹´ë“œ ìƒì„± / ê°±ì‹ </button>
      <button id="runAllTestsBtn">ì „ì²´ ìë™ í…ŒìŠ¤íŠ¸ 1íšŒ</button>
      <button id="clearStateBtn">ë°ì´í„° ì´ˆê¸°í™”</button>
      <div id="autosaveStatus" class="autosave">ìë™ ì €ì¥ ìƒíƒœ: ëŒ€ê¸° ì¤‘</div>
    </div>
  </div>

  <div class="section">
    <h2>â‘¡ ìë™ í…ŒìŠ¤íŠ¸ ê·œì¹™</h2>
    <div class="small-text">
      Â· í…ŒìŠ¤íŠ¸ëŠ” ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì—†ì´ ë¬¸ìì—´ ê·œì¹™ë§Œìœ¼ë¡œ íŒë‹¨í•œë‹¤.<br/>
      Â· GitHub/Deno/ì—…ë¡œë“œ ì£¼ì†Œê°€ ë¹„ì–´ ìˆê±°ë‚˜ httpë¡œ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ ê°€ëŠ¥.<br/>
      Â· ì„¸ ì£¼ì†Œ ëª¨ë‘ httpë¡œ ì‹œì‘í•˜ë©´ ì •ìƒìœ¼ë¡œ í‘œì‹œë˜ê³  ë¡œê·¸ë¥¼ ë‚¨ê¸´ë‹¤.
    </div>
  </div>

  <div class="section">
    <h2>â‘¢ ë„êµ¬ ì¹´ë“œ (ìë™ ìƒì„± ì˜ì—­)</h2>
    <div id="cardsContainer" class="cards-grid"></div>
  </div>




  <script>
    const STORAGE_KEY = "wic_setup_tool_v2_state";

    // ğŸ”¹ ì²˜ìŒ ë“¤ì–´ì˜¬ ë•Œ ìë™ìœ¼ë¡œ ì±„ì›Œ ë„£ì„ ê¸°ë³¸ ê°’(í”„ë¦¬ì…‹)
    const DEFAULT_TOOL_LIST = [
      "1ë²ˆ ê³ ê° ìë™í™” ì•ˆë‚´ì„œ",
      "2ë²ˆ ì…ì°° í”„ë¡œê·¸ë¨",
      "3ë²ˆ ì½”ë”© ê¸°ì´ˆ ì—°ìŠµ ë¼ˆëŒ€",
      "4ë²ˆ ì—°êµ¬ë¹„ ë°•ì‚¬ ì—‘ì…€ ìƒì„±ê¸°",
      "5ë²ˆ ë³´ê³ ì„œ ìƒì„±ê¸°",
      "7ë²ˆ ì„¸íŒ… ë„êµ¬",
      "8ë²ˆ ë™ì‚¬ í™œìš© ë„êµ¬",
      "9ë²ˆ ì»¨í…ì¸  ìë£Œ ì•ˆë‚´ ë„êµ¬",
      "10ë²ˆ ì¬ë¬´ íšŒê³„ í”„ë¡œê·¸ë¨",
      "11ë²ˆ ì¬í…Œí¬ í”„ë¡œê·¸ë¨",
      "12ë²ˆ ì„œë¸Œ ì›¹ì‚¬ì´íŠ¸ ì œì‘",
      "13ë²ˆ ì—‘ì…€ ìë™ ì—…ë¡œë“œ",
      "14ë²ˆ í™ˆí˜ì´ì§€ ìˆ˜ì • í”„ë¡œê·¸ë¨",
      "15ë²ˆ ê³µí†µì—”ì§„ ëª¨ë“ˆ í…ŒìŠ¤íŠ¸ê¸°",
      "18ë²ˆ Tool Policy ë„êµ¬ ê¸°ëŠ¥ ì •ì±…",
      "19ë²ˆ ì‚¬ì—…ì¥ í™ë³´ í”„ë¡œê·¸ë¨"
    ].join("\n");

    const DEFAULT_GITHUB_BASE = "https://github.com/obk369369-spec";
    const DEFAULT_DENO_BASE = "https://dash.deno.com/projects";

    let state = {
      toolListText: "",
      githubBase: "",
      denoBase: "",
      cards: [] // { name, github, deno, upload, status, log, last, choice }
    };

    function now() {
      return new Date().toLocaleTimeString("ko-KR", { hour12: false });
    }

    // ----- ì €ì¥ / ë³µì› -----
    function saveState() {
      state.toolListText = document.getElementById("toolList").value;
      state.githubBase = document.getElementById("githubBase").value;
      state.denoBase = document.getElementById("denoBase").value;
      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        document.getElementById("autosaveStatus").textContent =
          "ìë™ ì €ì¥: " + now();
      } catch (e) {
        document.getElementById("autosaveStatus").textContent =
          "ìë™ ì €ì¥ ì˜¤ë¥˜: " + e.message;
      }
    }

    let saveTimer = null;
    function scheduleSaveState() {
      if (saveTimer) clearTimeout(saveTimer);
      saveTimer = setTimeout(() => {
        saveState();
        saveTimer = null;
      }, 500);
    }

    function loadState() {
      const raw = localStorage.getItem(STORAGE_KEY);
      const toolListEl = document.getElementById("toolList");
      const githubBaseEl = document.getElementById("githubBase");
      const denoBaseEl = document.getElementById("denoBase");

      if (!raw) {
        // ğŸ”¹ ì²˜ìŒ ë“¤ì–´ì˜¨ ê²½ìš°: ê¸°ë³¸ ê°’ ìë™ ì±„ìš°ê¸° + ì¹´ë“œ ìë™ ìƒì„±
        toolListEl.value = DEFAULT_TOOL_LIST;
        githubBaseEl.value = DEFAULT_GITHUB_BASE;
        denoBaseEl.value = DEFAULT_DENO_BASE;
        state.toolListText = DEFAULT_TOOL_LIST;
        state.githubBase = DEFAULT_GITHUB_BASE;
        state.denoBase = DEFAULT_DENO_BASE;
        state.cards = [];
        buildCards();
        saveState();
        return;
      }

      try {
        const obj = JSON.parse(raw);
        if (obj && typeof obj === "object") {
          state = Object.assign(state, obj);
          toolListEl.value = state.toolListText || DEFAULT_TOOL_LIST;
          githubBaseEl.value = state.githubBase || DEFAULT_GITHUB_BASE;
          denoBaseEl.value = state.denoBase || DEFAULT_DENO_BASE;
        }
      } catch (_) {
        // ë³µì› ì‹¤íŒ¨ ì‹œì—ë„ ê¸°ë³¸ ê°’ìœ¼ë¡œ ì±„ì›Œì„œ ì‹œì‘
        toolListEl.value = DEFAULT_TOOL_LIST;
        githubBaseEl.value = DEFAULT_GITHUB_BASE;
        denoBaseEl.value = DEFAULT_DENO_BASE;
        state.toolListText = DEFAULT_TOOL_LIST;
        state.githubBase = DEFAULT_GITHUB_BASE;
        state.denoBase = DEFAULT_DENO_BASE;
      }

      // ğŸ”¹ ì €ì¥ëœ ê°’ì´ ìˆë“  ì—†ë“ , ë¡œë“œ í›„ì—ëŠ” í•­ìƒ ì¹´ë“œ ìƒì„±
      buildCards();
    }

    // ----- ì¹´ë“œ ìƒíƒœ -----
    function ensureCard(name) {
      let card = state.cards.find(c => c.name === name);
      if (!card) {
        card = {
          name,
          github: "",
          deno: "",
          upload: "",
          status: "ëŒ€ê¸°",
          log: "",
          last: "",
          choice: ""
        };
        state.cards.push(card);
      } else {
        if (card.upload === undefined) card.upload = "";
      }
      return card;
    }

    function validateTriple(g, d, u) {
      g = (g || "").trim();
      d = (d || "").trim();
      u = (u || "").trim();

      const missing = [];
      if (!g) missing.push("GitHub");
      if (!d) missing.push("Deno");
      if (!u) missing.push("ì—…ë¡œë“œ");

      if (missing.length === 3) {
        return { ok: false, reason: "ì„¸ ì£¼ì†Œ ëª¨ë‘ ë¹„ì–´ ìˆìŒ" };
      }
      if (missing.length > 0) {
        return { ok: false, reason: missing.join(", ") + " ì£¼ì†Œê°€ ë¹„ì–´ ìˆìŒ" };
      }

      if (!g.startsWith("http") || !d.startsWith("http") || !u.startsWith("http")) {
        return { ok: false, reason: "ëª¨ë“  ì£¼ì†ŒëŠ” httpë¡œ ì‹œì‘í•´ì•¼ í•¨" };
      }
      return { ok: true, reason: "ì •ìƒ" };
    }

    // ----- ë„êµ¬ ëª©ë¡ â†’ ì •ë ¬ â†’ ì¹´ë“œ ìƒì„± -----
    function buildCards() {
      const raw = document.getElementById("toolList").value || "";
      const lines = raw
        .split("\n")
        .map(x => x.trim())
        .filter(x => x.length > 0);

      const items = lines.map((line, idx) => {
        const m = line.match(/^(\d+)\s*ë²ˆ?/);
        const num = m ? parseInt(m[1], 10) : 10000 + idx;
        return { name: line, num, idx };
      });

      items.sort((a, b) => {
        if (a.num === b.num) return a.idx - b.idx;
        return a.num - b.num;
      });

      const container = document.getElementById("cardsContainer");
      container.innerHTML = "";

      const usedNames = [];

      const githubBaseValue = (document.getElementById("githubBase").value || "").replace(/\/+$/, "");
      const denoBaseValue   = (document.getElementById("denoBase").value   || "").replace(/\/+$/, "");

      items.forEach((item, sortedIndex) => {
        const name = item.name;
        usedNames.push(name);
        const c = ensureCard(name);

        if (!c.github && githubBaseValue) {
          c.github = githubBaseValue + "/";
        }
        if (!c.deno && denoBaseValue) {
          c.deno = denoBaseValue + "/";
        }

        const card = document.createElement("div");
        card.className = "card";
        card.dataset.name = name;

        const header = document.createElement("div");
        header.className = "card-header";
        const title = document.createElement("div");
        title.className = "card-title";
        title.textContent = name;
        const chip = document.createElement("div");
        chip.className = "card-chip";
        chip.textContent = (sortedIndex + 1) + "ë²ˆ ì¹´ë“œ";
        header.appendChild(title);
        header.appendChild(chip);
        card.appendChild(header);

        const desc = document.createElement("div");
        desc.className = "card-desc";
        desc.textContent = "ê¸°ëŠ¥ ìš”ì•½: " + name;
        card.appendChild(desc);

        const ghRow = document.createElement("div");
        ghRow.className = "card-row";
        const ghInput = document.createElement("input");
        ghInput.type = "text";
        ghInput.placeholder = "ì´ ë„êµ¬ GitHub ì£¼ì†Œ";
        ghInput.value = c.github || "";
        const ghBtn = document.createElement("button");
        ghBtn.className = "small";
        ghBtn.textContent = "GitHub ì—´ê¸°";
        ghBtn.onclick = () => {
          const url = ghInput.value.trim();
          if (url.startsWith("http")) window.open(url, "_blank");
        };
        ghRow.appendChild(ghInput);
        ghRow.appendChild(ghBtn);
        card.appendChild(ghRow);

        const deRow = document.createElement("div");
        deRow.className = "card-row";
        const deInput = document.createElement("input");
        deInput.type = "text";
        deInput.placeholder = "ì´ ë„êµ¬ Deno ì„¤ì •/í”„ë¡œì íŠ¸ ì£¼ì†Œ";
        deInput.value = c.deno || "";
        const deBtn = document.createElement("button");
        deBtn.className = "small";
        deBtn.textContent = "Deno ì—´ê¸°";
        deBtn.onclick = () => {
          const url = deInput.value.trim();
          if (url.startsWith("http")) window.open(url, "_blank");
        };
        deRow.appendChild(deInput);
        deRow.appendChild(deBtn);
        card.appendChild(deRow);

        const upRow = document.createElement("div");
        upRow.className = "card-row";
        const upInput = document.createElement("input");
        upInput.type = "text";
        upInput.placeholder = "ì´ ë„êµ¬ ì—…ë¡œë“œ ì£¼ì†Œ (ì˜ˆ: https://â€¦deno.net/)";
        upInput.value = c.upload || "";
        const upBtn = document.createElement("button");
        upBtn.className = "small";
        upBtn.textContent = "ì—…ë¡œë“œ ì—´ê¸°";
        upBtn.onclick = () => {
          const url = upInput.value.trim();
          if (url.startsWith("http")) window.open(url, "_blank");
        };
        upRow.appendChild(upInput);
        upRow.appendChild(upBtn);
        card.appendChild(upRow);

        const statusLine = document.createElement("div");
        const stSpan = document.createElement("span");
        const statusLabel = c.status || "ëŒ€ê¸°";
        if (statusLabel === "ì •ìƒ") stSpan.className = "status-ok";
        else if (statusLabel === "ì˜¤ë¥˜ ê°€ëŠ¥") stSpan.className = "status-warn";
        else stSpan.className = "status-neutral";
        stSpan.textContent = "ìƒíƒœ: " + statusLabel;

        const timeSpan = document.createElement("span");
        timeSpan.className = "time-span";
        timeSpan.style.marginLeft = "6px";
        timeSpan.textContent = c.last
          ? "(ë§ˆì§€ë§‰ í…ŒìŠ¤íŠ¸: " + c.last + ")"
          : "(í…ŒìŠ¤íŠ¸ ì „)";

        statusLine.appendChild(stSpan);
        statusLine.appendChild(timeSpan);
        card.appendChild(statusLine);

        const errArea = document.createElement("div");
        errArea.className = "small-text";
        errArea.textContent = "ì˜¤ë¥˜ ì‹œ ì„ íƒì§€:";
        ["GitHub ì¬ë°°í¬", "Deno ì¬ë°°í¬", "ì½”ì–´ ê¸°ëŠ¥ ì¬êµ¬ì„±"].forEach(choice => {
          const badge = document.createElement("span");
          badge.className = "badge";
          badge.textContent = choice;
          if (c.choice === choice) badge.classList.add("selected");
          badge.onclick = () => {
            c.choice = choice;
            Array.from(errArea.querySelectorAll(".badge")).forEach(b =>
              b.classList.toggle("selected", b.textContent === choice)
            );
            scheduleSaveState();
          };
          errArea.appendChild(badge);
        });
        card.appendChild(errArea);

        const btnRow = document.createElement("div");
        btnRow.className = "card-row";

        const saveBtn = document.createElement("button");
        saveBtn.className = "small";
        saveBtn.textContent = "ì£¼ì†Œ ì €ì¥";
        saveBtn.onclick = () => {
          c.github = ghInput.value.trim();
          c.deno = deInput.value.trim();
          c.upload = upInput.value.trim();
          scheduleSaveState();
        };

        const fixBtn = document.createElement("button");
        fixBtn.className = "small";
        fixBtn.textContent = "ìë™ ìˆ˜ì •";
        fixBtn.onclick = () => {
          c.github = ghInput.value.trim();
          c.deno = deInput.value.trim();
          c.upload = upInput.value.trim();
          c.status = "ëŒ€ê¸°";
          c.log = "ìë™ ìˆ˜ì • ì‹¤í–‰: " + now();
          c.last = now();
          scheduleSaveState();
          buildCards();
        };

        const testBtn = document.createElement("button");
        testBtn.className = "small primary";
        testBtn.textContent = "ìë™ í…ŒìŠ¤íŠ¸";
        testBtn.onclick = () => {
          runSingleTest(
            name,
            ghInput,
            deInput,
            upInput,
            stSpan,
            timeSpan,
            logArea
          );
        };

        btnRow.appendChild(saveBtn);
        btnRow.appendChild(fixBtn);
        btnRow.appendChild(testBtn);
        card.appendChild(btnRow);

        const logArea = document.createElement("div");
        logArea.className = "log";
        logArea.textContent = c.log || "ë¡œê·¸: ì•„ì§ ì—†ìŒ";
        card.appendChild(logArea);

        ghInput.addEventListener("input", () => {
          c.github = ghInput.value.trim();
          scheduleSaveState();
        });
        deInput.addEventListener("input", () => {
          c.deno = deInput.value.trim();
          scheduleSaveState();
        });
        upInput.addEventListener("input", () => {
          c.upload = upInput.value.trim();
          scheduleSaveState();
        });

        container.appendChild(card);
      });

      state.cards = state.cards.filter(c => usedNames.includes(c.name));
      scheduleSaveState();
    }

    // ----- í…ŒìŠ¤íŠ¸ -----
    function runSingleTest(name, ghInput, deInput, upInput, statusSpan, timeSpan, logArea) {
      const c = ensureCard(name);
      const g = ghInput.value;
      const d = deInput.value;
      const u = upInput.value;
      const r = validateTriple(g, d, u);

      c.github = (g || "").trim();
      c.deno = (d || "").trim();
      c.upload = (u || "").trim();
      c.last = now();
      c.log = "ìë™ í…ŒìŠ¤íŠ¸: " + c.last + " / ê²°ê³¼: " + r.reason;

      if (r.ok) {
        c.status = "ì •ìƒ";
        statusSpan.className = "status-ok";
      } else {
        c.status = "ì˜¤ë¥˜ ê°€ëŠ¥";
        statusSpan.className = "status-warn";
      }
      statusSpan.textContent = "ìƒíƒœ: " + c.status;
      timeSpan.textContent = "(ë§ˆì§€ë§‰ í…ŒìŠ¤íŠ¸: " + c.last + ")";
      logArea.textContent = c.log;

      scheduleSaveState();
    }

    function testAll() {
      const cards = document.querySelectorAll(".card");
      cards.forEach(card => {
        const name = card.dataset.name;
        const inputs = card.querySelectorAll("input[type='text']");
        if (inputs.length < 3) return;
        const ghInput = inputs[0];
        const deInput = inputs[1];
        const upInput = inputs[2];
        const statusSpan = card.querySelector(
          ".status-ok, .status-warn, .status-neutral"
        );
        const timeSpan = card.querySelector(".time-span");
        const logArea = card.querySelector(".log");
        runSingleTest(name, ghInput, deInput, upInput, statusSpan, timeSpan, logArea);
      });
    }

    function clearAll() {
      if (!confirm("ëª¨ë“  ì €ì¥ ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í• ê¹Œìš”?")) return;
      localStorage.removeItem(STORAGE_KEY);
      state = {
        toolListText: "",
        githubBase: "",
        denoBase: "",
        cards: []
      };
      document.getElementById("toolList").value = DEFAULT_TOOL_LIST;
      document.getElementById("githubBase").value = DEFAULT_GITHUB_BASE;
      document.getElementById("denoBase").value = DEFAULT_DENO_BASE;
      document.getElementById("cardsContainer").innerHTML = "";
      document.getElementById("autosaveStatus").textContent = "ì´ˆê¸°í™” ì™„ë£Œ (ê¸°ë³¸ í”„ë¦¬ì…‹ ì ìš©)";
      buildCards();
      saveState();
    }

    // ----- ì´ˆê¸°í™” -----
    document.addEventListener("DOMContentLoaded", () => {
      loadState();

      document.getElementById("buildCardsBtn").onclick = () => {
        buildCards();
      };
      document.getElementById("runAllTestsBtn").onclick = () => {
        testAll();
      };
      document.getElementById("clearStateBtn").onclick = () => {
        clearAll();
      };

      ["toolList", "githubBase", "denoBase"].forEach(id => {
        const el = document.getElementById(id);
        el.addEventListener("input", scheduleSaveState);
      });

      window.addEventListener("beforeunload", () => {
        if (saveTimer) {
          clearTimeout(saveTimer);
          saveState();
        }
      });
    });
  </script>




  
</body>
</html>
